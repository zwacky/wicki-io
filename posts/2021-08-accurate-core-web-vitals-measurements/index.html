<!DOCTYPE html>
<html><head>
  <title>Accurate Daily Measurements of Core Web Vitals with Google Analytics</title>
  <base href="/" />
  <link rel="preload" as="font" type="font/woff2" href="https://wicki.io/fonts/source-sans-pro-v14-latin-300.woff2" crossorigin />
  <link rel="preload" as="font" type="font/woff2" href="https://wicki.io/fonts/source-sans-pro-v14-latin-regular.woff2" crossorigin />
  <link rel="preload" as="font" type="font/woff2" href="https://wicki.io/fonts/playfair-display-v21-latin-regular.woff2" crossorigin />
  
  <link rel="stylesheet" href="/styles/main.min.css" integrity="" media="screen" />
  <link rel="canonical" href="https://wicki.io/posts/2021-08-accurate-core-web-vitals-measurements/" />
  <link rel="icon" type="image/x-icon" href="https://wicki.io/images/favicon.png" />
  
  
  <link rel="feed" href="/posts/index.xml" type="application/rss+xml" title="Blog posts on Simon Wicki — Frontend Engineer from Berlin">

  <meta charset="utf-8" />
  <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=5" />
  <meta name="keywords" content="[webperf, Core Web Vitals, SEO, Google Analytics]" />

  <meta property="og:site_name" content="Wicki.io" />
  <meta property="og:title" content="Accurate Daily Measurements of Core Web Vitals with Google Analytics" name="title" />
  <meta property="og:description" content="Create accurate Core Web Vitals reports of current daily measurements, not only averaged over a rolling 28-day window." name="description" />
  <meta property="og:url" content="https://wicki.io/posts/2021-08-accurate-core-web-vitals-measurements/" />
  <meta property="og:image" content="https://wicki.io/posts/2021-08-accurate-core-web-vitals-measurements/angular-ruler.png" />
  <meta property="og:type" content="article" />

  <meta name="author" content="Simon Wicki" />
  <meta name="twitter:site" content="@zwacky" />
  <meta name="twitter:creator" content="@zwacky" />
  <meta name="twitter:title" content="Accurate Daily Measurements of Core Web Vitals with Google Analytics"/>
  <meta name="twitter:description" content="Create accurate Core Web Vitals reports of current daily measurements, not only averaged over a rolling 28-day window."/>

  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="theme-color" content="#fff" />
</head>
<body><nav class="nav">
  <div class="container">
    <div class="nav__list">
      
      <div style="display: flex; align-items: center;">
        <a href="/" class="nav--brand" style="overflow: hidden;">
          <img src="images/logo.png" alt="W" width="38" />
        </a>
      </div>
      <div>
        
        
        <a
          href="/posts"
          class="nav__list__item active"
          >Blog</a
        >
        
        <a href id="search_search" class="nav__list__item">
          <img
            src="/images/svg/search.svg"
            alt="Search"
            class="searchbar__icon"
            onclick="gtag('event', 'search_toggle', { event_category: 'search', event_label: 'on' })"
          />
        </a>
        
        <div class="searchbar">
          <input id="search_input" type="text" name="q" placeholder="Search…" autocomplete="off">
          <a href id="search_close">
            <img
              src="/images/svg/close.svg"
              alt="close"
              class="searchbar__icon"
              style="height: 30px;"
            />
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="search-results" id="search_results">
    <div class="container"></div>
  </div>
</nav>
<div id="content">


<script type="text/javascript" src="/search.js" defer></script>

<div class="container" style="padding-top: 180px;">
  <div class="row">
    <div class="col-lg-8 offset-lg-2">
      <h1>Accurate Daily Measurements of Core Web Vitals with Google Analytics</h1>
      <div style="margin-bottom: 20px;">
        
          <time datetime="2021-08-04 00:00:00 &#43;0000 UTC">August 4, 2021</time>
        
      </div>

      <p>Have you ever optimised your website for the Core Web Vitals (CWV)? Did you want to check your changes the next day—but Google&rsquo;s various tools don&rsquo;t give you current daily CWV metrics due to the <em>rolling 28-day window</em>?</p>
<p>In this post I&rsquo;ll review Google&rsquo;s toolset for measuring CWV and explain how to see if your changes had any effect on CWV day by day with Google Analytics (GA).</p>
<hr>
<h2 id="accurate-daily-cwv-measurements-create-your-report">Accurate daily CWV measurements: Create your report</h2>
<figure>
    <img src="/posts/2021-08-accurate-core-web-vitals-measurements/daily-cwv-measurements-workflow-cut.png"
         alt="3-step workflow to get your daily accurate CWV report."/> <figcaption>
            <p>3-step workflow to get your daily accurate CWV report.</p>
        </figcaption>
</figure>

<p>There isn&rsquo;t a prebuilt view for daily accurate reports in any analytics service out of the box. That&rsquo;s why we need to create our own report in three steps:</p>
<ul>
<li><a href="https://github.com/GoogleChrome/web-vitals">web-vitals</a>: to measure CWV metrics in the frontend</li>
<li><a href="https://github.com/GoogleChrome/web-vitals#using-analyticsjs">CWV GA tracking snippet</a>: to send these captured metrics over to GA</li>
<li><a href="https://web-vitals-report.web.app/">Web Vitals Report</a>: to create your CWV report by connecting your GA with this external reporting tool</li>
</ul>
<p>The web-vitals library lets us grab all CWV metrics of each visitor of the site. These metrics are then sent off to Google Analytics. The external Web Vitals Report tool can then extract these tracking events from your GA account and create a daily accurate report.</p>
<p><strong>Don&rsquo;t be fooled</strong>: GA can display your CLS, LCP and other CWV metrics when you search for these events. But they&rsquo;re inaccurate in the GA events view. For instance it&rsquo;s possible that multiple CLS events are sent, each with their own <em>delta</em> value that accumulates to the total CLS. You&rsquo;d need to group by that day <strong>and</strong> url <strong>and</strong> user to get an accurate reporting. This grouping isn&rsquo;t supported out of the box.</p>
<p>That&rsquo;s why Google created the external tool <strong>Web Vitals Report</strong>. You can connect your GA account with it and it will extract the data. If you followed the default naming inside of the CWV GA tracking snippet, everything will work out of the box. You&rsquo;ll be rewarded with shiny graphs and an accurate* report overall.</p>
<p>*) GA <a href="https://github.com/GoogleChromeLabs/web-vitals-report#1-million-row-limit">imposes a limit</a> in each report which can lead to sampling and an inaccurate report.
<br>
<br></p>
<figure>
    <img src="/posts/2021-08-accurate-core-web-vitals-measurements/report-all.png"
         alt="Core Web Vitals reports are a great way to group metric by day and overall break downs."/> <figcaption>
            <p>Core Web Vitals reports are a great way to group metric by day and overall break downs.</p>
        </figcaption>
</figure>

<p>The screenshot above is an excerpt of the <strong>Web Vitals Report</strong> with daily accurate Core Web Vital metrics.</p>
<hr>
<h2 id="inaccurate-daily-cwv-measurements-googles-tools">Inaccurate daily CWV measurements: Google&rsquo;s tools</h2>
<p>For daily CWV measurements we can&rsquo;t rely on Google&rsquo;s tools because they either aggregate over a long 28-day period or only measure single pages with synthetic, non Real-User Metrics (RUM). So it takes a lot of days to see any change within that period.</p>
<p>Still, Google provides a great—and very easy—overview of your CWV metrics to plan where to optimise next. But you can&rsquo;t check the impact on CWV of your optimisation with these tools, e.g. the next day.</p>
<p><strong>Field data</strong> aka real-user experiences:</p>
<ul>
<li><a href="https://search.google.com/search-console">Google Search Console</a>: measures similar pages</li>
<li><a href="https://developers.google.com/speed/pagespeed/insights/">PageSpeed Insights</a>: measures a single page &amp; all pages as a whole</li>
<li>CrUX (Chrome UX Report): measures single pages &amp; all pages as a whole</li>
</ul>
<p><strong>Lab data</strong> aka synthetic user experience:</p>
<ul>
<li><a href="https://developers.google.com/web/tools/lighthouse">Lighthouse</a>: measures a single page</li>
<li><a href="https://developers.google.com/web/tools/chrome-devtools">Chrome DevTools</a>: measures a single page</li>
<li><a href="https://chrome.google.com/webstore/detail/web-vitals/ahfhijdlegdabablpippeagghigmibma?hl=en">Web Vitals Chrome Extension</a>: measures a single page</li>
</ul>
<hr>
<h2 id="rolling-28-day-window-explained">Rolling 28-day window explained</h2>
<p><em>I dedicate a paragraph to this in particular because the <em>rolling 28-day window</em> appears many times in CWV measurement—especially in how the field data is measured.</em></p>
<p>Imagine you had <strong>27 days</strong> of awful Cumulative Layout Shift (CLS) of 1.0 and on <strong>day 28</strong> you magically fix it to 0.</p>
<p>At <strong>day 28</strong> your average CLS would be 0.96—which would be rounded up to 1.0 again:</p>
<pre><code>Days      | 1    2    3    4    5    6    7    8    9    10   11   12   13   14   15   16   17   18   19   20   21   22   23   24   25   26   27   28
-------------------------------------------------------------------------------------------------------------------------------------------------------
Daily CLS | 1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  0.0 
Average   | 1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  1.0  0.96
</code></pre><p>In this example above your 1.0 to 0 CLS optimisation would <strong>take +23 days</strong> until you reach the allowed mobile CLS of 0.1.</p>
<p>See in the following table how slowly the average is decreasing:</p>
<pre><code>Days      | +1   +2   +3   +4   +5   +6   +7   +8   +9   +10  +11  +12  +13  +14  +15  +16  +17  +18  +19  +20  +21  +22  +23  +24  +25  +26  +27  +28
-------------------------------------------------------------------------------------------------------------------------------------------------------
Daily CLS | 0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0  0.0 
Average   | 0.9  0.8  0.8  0.8  0.8  0.8  0.7  0.7  0.6  0.6  0.6  0.5  0.5  0.5  0.4  0.4  0.4  0.3  0.3  0.3  0.2  0.2  0.1  0.1  0.1  0.0  0.0  0.0
</code></pre><h2 id="more-resources">More resources</h2>
<ul>
<li><a href="https://www.smashingmagazine.com/2021/04/complete-guide-measure-core-web-vitals/">An In-Depth Guide To Measuring Core Web Vitals</a></li>
<li><a href="https://groups.google.com/a/chromium.org/g/chrome-ux-report/c/PRGtZJvmGkw/m/rzQV99-kCAAJ">Google Forum: Explanation different data points in different tools</a></li>
<li><a href="https://tamethebots.com/blog-n-bits/monitoring-search-console-core-web-vitals">Tracking Changes in Search Console&rsquo;s Ore Web Vitals Report</a></li>
</ul>
<hr>
<p>If you found this post interesting please leave a ❤️ on this tweet and consider following my 🎢 journey about #webperf, #buildinpublic and #frontend matters <a href="https://twitter.com/zwacky">on Twitter</a>.
<br /><br />
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">How did we turn 16k to 651k green URLs for more visibility by Google with <a href="https://twitter.com/hashtag/CoreWebVitals?src=hash&amp;ref_src=twsrc%5Etfw">#CoreWebVitals</a>? ✅<br><br>With this cycle of getting a quicker feedback loop:<br>1️⃣ Track &amp; evaluate current daily measurements<br>2️⃣ Identify what metrics and pages to work on<br>3️⃣ Deploy<br><br>Read on for the what &amp; how. <a href="https://t.co/0hVZ9UnkND">pic.twitter.com/0hVZ9UnkND</a></p>&mdash; Simon Wicki (@zwacky) <a href="https://twitter.com/zwacky/status/1425363280206434304?ref_src=twsrc%5Etfw">August 11, 2021</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</p>


      
      <div style="border-top: 1px solid #e4e4f0; margin-top: 86px; margin-bottom: 50px;"></div><div class="about__bio">
  <div class="about__bio__profile">
    
    
    <img
      src="/images/me_huc890d15b6e9f2ce8978e9aa27127dd5e_67203_350x0_resize_q75_box.jpg"
      alt="Simon Wicki"
      class="about__bio__profile--image"
    />
    
  </div>

  <div>
    <div
      style="
        font-weight: 400;
        color: inherit;
        font-size: inherit;
        margin-top: 0;
        margin-bottom: 1rem;
      "
    >
      <p>
        <strong>Simon Wicki</strong> is a Freelance Developer in Berlin. Worked on Web and Mobile apps at
				JustWatch. Fluent in Vue, Angular, React and Ionic. Passionate about Frontend, tech, web perf &
				non-fiction books.
      </p>
      <p>
        <a
          href="https://twitter.com/zwacky"
          onclick="gtag('event', 'bottom_cta_clickout', { event_category: 'bottom_cta', event_label: '\/posts\/2021-08-accurate-core-web-vitals-measurements\/' })"
          target="_blank"
          style="
            border-radius: 4px;
            padding: 4px 13px 4px 13px;
            background-color: #1b95e0;
            color: white;
            display: inline-block;
            border: 0;
            opacity: 1;
          "
        >
          <img
            src="images/svg/twitter.svg"
            alt="Twitter"
            title="Twitter"
            style="
              filter: brightness(10);
              margin-right: 4px;
              position: relative;
              bottom: 2px;
            "
          />
          Follow @zwacky
        </a>
      </p>
    </div>
  </div>
</div>

    </div>
  </div>
</div>


        </div><footer class="footer">
	<div class="container">
		<div style="display: flex; justify-content: space-between;">
			<div class="footer__shoutout">
				Made with Hugo and 
				<span style="white-space: nowrap;">
					
					
					<img src="/images/svg/heart.svg" alt="Love" style="opacity: 0.5; height: 16px;" />
				</span>
			</div>
			<div class="footer__links">
				<a href="mailto:simon@wicki.io">Contact</a>
				<a href="/privacy">Privacy Policy</a>
				<a href="/imprint">Impressum</a>
			</div>
		</div>
	</div>
</footer>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-176737760-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag() {
		dataLayer.push(arguments);
	}
	gtag('js', new Date());
	gtag('consent', 'default', {
		analytics_storage: 'denied',
	});
	const config = {
		allow_ad_personalization_signals: false,
		allow_ad_features: false,
		anonymize_ip: true,
	};
	gtag('config', 'UA-176737760-1', config);
	gtag('config', 'G-2NNLDD2YGP', config);
</script>


    </body>
</html>
