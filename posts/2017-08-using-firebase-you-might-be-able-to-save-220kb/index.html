<!DOCTYPE html>
<html><head>
  <title>Using Firebase with webpack? You might be able to save 220kb</title>
  <base href="/" />
  <link rel="preload" as="font" type="font/woff2" href="https://wicki.io/fonts/source-sans-pro-v14-latin-300.woff2" crossorigin />
  <link rel="preload" as="font" type="font/woff2" href="https://wicki.io/fonts/source-sans-pro-v14-latin-regular.woff2" crossorigin />
  <link rel="preload" as="font" type="font/woff2" href="https://wicki.io/fonts/playfair-display-v21-latin-regular.woff2" crossorigin />
  
  <link rel="stylesheet" href="/styles/main.min.css" integrity="" media="screen" />
  <link rel="canonical" href="https://wicki.io/posts/2017-08-using-firebase-you-might-be-able-to-save-220kb/" />
  <link rel="icon" type="image/x-icon" href="https://wicki.io/images/favicon.png" />
  
  <meta charset="utf-8" />
  <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=5" />
  <meta name="keywords" content="[firebase, webpack]" />

  <meta property="og:site_name" content="Wicki.io" />
  <meta property="og:title" content="Using Firebase with webpack? You might be able to save 220kb" name="title" />
  <meta property="og:description" content="Easy steps to follow to ensure you&#39;re not importing too much." name="description" />
  <meta property="og:url" content="https://wicki.io/posts/2017-08-using-firebase-you-might-be-able-to-save-220kb/" />
  <meta property="og:image" content="https://wicki.io/posts/2017-08-using-firebase-you-might-be-able-to-save-220kb/firebase-webpack.png" />
  <meta property="og:type" content="article" />

  <meta name="author" content="Simon Wicki" />
  <meta name="twitter:site" content="@zwacky" />
  <meta name="twitter:creator" content="@zwacky" />
  <meta name="twitter:title" content="Using Firebase with webpack? You might be able to save 220kb"/>
  <meta name="twitter:description" content="Easy steps to follow to ensure you&#39;re not importing too much."/>

  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="theme-color" content="#fff" />
</head>
<body><nav class="nav">
  <div class="container">
    <div class="nav__list">
      
      <div style="display: flex; align-items: center;">
        <a href="/" class="nav--brand" style="overflow: hidden;">
          <img src="images/logo.png" alt="W" width="38" />
        </a>
      </div>
      <div>
        
        
        <a
          href="/posts"
          class="nav__list__item active"
          >Blog</a
        >
        
        <a
          class="d-none d-sm-inline nav__list__item nav__list__item--mail"
          href="mailto:simon@wicki.io"
          class="nav__list__item nav__list__item--mail"
        >
          Contact
        </a>
        <a
          class="d-inline d-sm-none nav__list__item nav__list__item--mail"
          href="mailto:simon@wicki.io"
        >
          <img
            src="/images/svg/envelope.svg"
            alt="Contact"
            title="Contact"
            style="height: 18px; position: relative; top: -2px;"
          />
        </a>
        
        <a href id="search_search" class="nav__list__item">
          <img
            src="/images/svg/search.svg"
            alt="Search"
            class="searchbar__icon"
            onclick="ga('send', 'event', 'search', 'toggle', 'on')"
          />
        </a>
        
        <div class="searchbar">
          <input id="search_input" type="text" name="q" placeholder="Search…" autocomplete="off">
          <a href id="search_close">
            <img
              src="/images/svg/close.svg"
              alt="close"
              class="searchbar__icon"
              style="height: 30px;"
            />
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="search-results" id="search_results">
    <div class="container"></div>
  </div>
</nav>
<div id="content">


<script type="text/javascript" src="/search.js" defer></script>

<div class="container" style="padding-top: 180px;">
  <div class="row">
    <div class="col-lg-8 offset-lg-2">
      <h1>Using Firebase with webpack? You might be able to save 220kb</h1>
      <div style="margin-bottom: 20px;">
        
          <time datetime="2017-08-22 00:00:00 &#43;0000 UTC">August 22, 2017</time>
        
      </div>

      <figure>
    <img src="/posts/2017-08-using-firebase-you-might-be-able-to-save-220kb/firebase-webpack.png"
         alt="Firebase webpack"/> 
</figure>

<br>
<div style="padding: 17px 17px 1px 17px; margin-bottom: 1rem; background-color: #ededf0;">
<p><strong>MARCH 2020 UPDATE</strong>: The new <a href="https://modularfirebase.web.app/">Firebase JS SDK Alpha</a> makes your bundle up to 80% smaller! It now fully adopts tree-shaking and lets you import only what you truly need.</p>
</div>
<br>
<p>In a lot of tutorials I came across the comfortable solution of just adding import * as firebase from &lsquo;firebase&rsquo; for your firebase import. As it turns out, there are 4 modular packages for Firebase. Here they are along with their sizes:</p>
<ul>
<li><strong>firebase/app:</strong> 22.1kb <code>.initializeApp(firebaseConfig)</code></li>
<li><strong>firebase/auth:</strong> 147.6kb <code>.auth()</code></li>
<li><strong>firebase/database:</strong> 139.8kb <code>.database()</code></li>
<li><strong>firebase/storage:</strong> 51.2kb <code>.storage()</code></li>
</ul>
<p>Usually you might not need all of these Firebase services and can <code>require()</code> or <code>import</code> just what is needed — with the help of webpack’s <a href="https://webpack.js.org/guides/tree-shaking/">Tree Shaking</a>.</p>
<h2 id="code">Code</h2>
<p><strong>before:</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">as</span> <span style="color:#a6e22e">firebase</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;firebase&#39;</span>;
</code></pre></div><p><strong>after:</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">as</span> <span style="color:#a6e22e">firebase</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;firebase/app&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;firebase/storage&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#e6db74">&#39;firebase/database&#39;</span>;

<span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">firebase</span>.<span style="color:#a6e22e">initializeApp</span>(<span style="color:#a6e22e">firebaseConfig</span>);
</code></pre></div><p>This will tell webpack (or whatever bundler you use) that they should also include storage and database. You can then still use <code>firebase.storage().ref(...)</code> in your code.</p>
<h2 id="applied-example">Applied example</h2>
<p>Let’s assume you only want to take advantage of Firebase’s great Database. Instead of adding <strong>360.7kb</strong>, you’d only have to add the firebase/database that imports <strong>139.8kb</strong>.</p>
<p>Resulting in <strong>220.9kb</strong> saved (61%)!</p>


      
      <div style="border-top: 1px solid #e4e4f0; margin-top: 86px; margin-bottom: 50px;"></div><div class="about__bio">
  <div class="about__bio__profile">
    
    
    <img
      src="/images/me_huc890d15b6e9f2ce8978e9aa27127dd5e_67203_350x0_resize_q75_box.jpg"
      alt="Simon Wicki"
      class="about__bio__profile--image"
    />
    
  </div>

  <div>
    <div
      style="
        font-weight: 400;
        color: inherit;
        font-size: inherit;
        margin-top: 0;
        margin-bottom: 1rem;
      "
    >
      <p>
        <strong>Simon Wicki</strong> is a Freelance Frontend Developer in
				Berlin. Passionate and fluent in Vue, Angular, React and Ionic. Interested in 
				Tech, frontend, web perf & non-fiction books
      </p>
      <p>
        <a
          href="https://twitter.com/zwacky"
          onclick="ga('send', 'event', 'clickout', 'bottom_cta', '\/posts\/2017-08-using-firebase-you-might-be-able-to-save-220kb\/')"
          target="_blank"
          style="
            border-radius: 4px;
            padding: 4px 13px 4px 13px;
            background-color: #1b95e0;
            color: white;
            display: inline-block;
            border: 0;
            opacity: 1;
          "
        >
          <img
            src="images/svg/twitter.svg"
            alt="Twitter"
            title="Twitter"
            style="
              filter: brightness(10);
              margin-right: 4px;
              position: relative;
              bottom: 2px;
            "
          />
          Follow @zwacky
        </a>
      </p>
    </div>
  </div>
</div>

    </div>
  </div>
</div>


        </div><footer class="footer">
	<div class="container">
		<div style="display: flex; justify-content: space-between;">
			<div class="footer__shoutout">
				Made with Hugo and 
				<span style="white-space: nowrap;">
					
					
					<img src="/images/svg/heart.svg" alt="Love" style="opacity: 0.5; height: 16px;" />
				</span>
			</div>
			<div class="footer__links">
				<a href="/privacy">Privacy Policy</a>
				<a href="/imprint">Impressum</a>
			</div>
		</div>
	</div>
</footer>
<script type="application/javascript">
  window.ga =
    window.ga ||
    function () {
      (ga.q = ga.q || []).push(arguments);
    };
  ga.l = +new Date();
  ga("create", "UA-176737760-1", "auto");
  ga("set", "anonymizeIp", true);
  ga("set", "allowAdFeatures", false);
  ga("set", "allowAdPersonalizationSignals", false);
  ga("send", "pageview");
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


    </body>
</html>
